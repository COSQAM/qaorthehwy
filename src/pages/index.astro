---
import Layout from '../layouts/Layout.astro';
import Hero from '../components/Hero.astro';
import SpeakerCard from '../components/SpeakerCard.astro';
import SpeakerCarousel from '../components/SpeakerCarousel';
import Tickets from '../components/Tickets.astro';
import Sponsors from '../components/Sponsors.astro';
import Footer from '../components/Footer.astro';
import sessionizeData from '../data/sessionize.json';

// Sample data - will be replaced with Sessionize API data
const conferenceData = {
  date: 'June 12, 2026',
  venue: 'The Ohio Union',
  location: 'Columbus, OH',
  sessionsCount: '32 Sessions',
  description: 'Join us for a day of insightful talks and networking with industry leaders in software quality.',
  attendees: '400+',
};

const ticketTiers = [
  {
    name: 'Early Bird',
    price: '$299',
    available: true,
    features: [
      'Access to all talks and sessions',
      'Breakfast and lunch included',
      'Conference t-shirt',
      'Raffle entry',
      'Networking opportunities',
    ],
  },
  {
    name: 'Full Price',
    price: '$399',
    available: true,
    features: [
      'Access to all talks and sessions',
      'Breakfast and lunch included',
      'Conference t-shirt',
      'Raffle entry',
      'Networking opportunities',
    ],
  },
];

// Keynote speakers from Sessionize data
const keynoteSpeakers = sessionizeData.speakers
  .filter((speaker: any) => speaker.isTopSpeaker)
  .slice(0, 2);

// Non-keynote speakers for carousel
const nonKeynoteSpeakers = sessionizeData.speakers
  .filter((speaker: any) => !speaker.isTopSpeaker);

// All speakers from Sessionize
const allSpeakers = sessionizeData.speakers;
---

<Layout title="QA or the Highway - Quality Engineering Conference">
  <Hero
    date={conferenceData.date}
    location={conferenceData.location}
    venue={conferenceData.venue}
    description={conferenceData.description}
    attendees={conferenceData.attendees}
    videoSrc="/hero-video.mp4"
  />

  <!-- Keynote Speakers Preview -->
  {keynoteSpeakers.length > 0 && (
    <section id="keynotes" class="section-light py-24 px-6">
      <div class="container mx-auto max-w-3xl">
        <h2 class="text-5xl md:text-6xl font-bold text-center mb-20 tracking-tight">KEYNOTE SPEAKERS</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-12 max-w-5xl mx-auto">
          {keynoteSpeakers.map((speaker: any) => (
            <SpeakerCard
              name={speaker.fullName}
              tagLine={speaker.tagLine}
              profilePicture={speaker.profilePicture}
            />
          ))}
        </div>

      </div>
    </section>
  )}

  <!-- Speaker Carousel -->
  {nonKeynoteSpeakers.length > 0 && (
    <section id="speakers-carousel" class="section-light py-8 px-6">
      <div class="container mx-auto max-w-7xl">
        <h2 class="text-5xl md:text-6xl font-bold text-center mb-20 tracking-tight">SESSION SPEAKERS</h2>
        <SpeakerCarousel client:only="react" speakers={nonKeynoteSpeakers} />
      </div>
    </section>
  )}

  <!-- Tickets Section -->
  <Tickets tiers={ticketTiers} />

  <!-- Sponsors Section -->
  <Sponsors
    platinum={[]}
    gold={[]}
    silver={[]}
  />

  <!-- Footer -->
  <Footer
    slackLink="#"
    feedbackLink="#"
  />
</Layout>
