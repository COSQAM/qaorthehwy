---
import { Image } from 'astro:assets';
import { sponsorConfig } from '../config/sponsors';

const tiers = [
  { title: 'Platinum Sponsors', sponsors: sponsorConfig.platinum, width: 'w-[70%] md:w-[33%]' },
  { title: 'Gold Sponsors', sponsors: sponsorConfig.gold, width: 'w-[45%] md:w-[28%]' },
  { title: 'Silver Sponsors', sponsors: sponsorConfig.silver, width: 'w-[45%] md:w-[22%]' },
  { title: 'Lunch Sponsors', sponsors: sponsorConfig.lunch, width: 'w-[45%] md:w-[22%]' },
  { title: 'Snack Sponsors', sponsors: sponsorConfig.snack, width: 'w-[45%] md:w-[22%]' },
  { title: 'T-Shirt Sponsors', sponsors: sponsorConfig.tshirt, width: 'w-[45%] md:w-[22%]' },
].filter(tier => tier.sponsors.length > 0);
---

<section id="sponsors" class="section-light py-8 px-6">
  <div class="container mx-auto max-w-8xl">
    <h2 class="text-5xl md:text-6xl font-bold text-center mb-20 tracking-tight">THANK YOU TO OUR SPONSORS</h2>
    {tiers.map((tier) => (
      <div class="mb-16">
        <h3 class="text-3xl font-semibold text-center mb-10 text-dark uppercase tracking-wide">{tier.title}</h3>
        <div class="flex flex-wrap justify-center gap-10">
          {tier.sponsors.map((sponsor) => (
            sponsor.website ? (
              <a href={sponsor.website} target="_blank" rel="noopener noreferrer" class={`flex items-center justify-center p-8 bg-white rounded-xl shadow-lg hover:shadow-xl transition-all hover:scale-105 transform duration-300 border border-gray-100 ${tier.width}`}>
                <Image
                  src={sponsor.logo}
                  alt={sponsor.name}
                  class="max-h-28 w-auto"
                />
              </a>
            ) : (
              <div class={`flex items-center justify-center p-8 bg-white rounded-xl shadow-lg hover:shadow-xl transition-all hover:scale-105 transform duration-300 border border-gray-100 ${tier.width}`}>
                <Image
                  src={sponsor.logo}
                  alt={sponsor.name}
                  class="max-h-28 w-auto"
                />
              </div>
            )
          ))}
        </div>
      </div>
    ))}
  </div>
</section>
