---
import { Image } from 'astro:assets';
import { sponsorConfig } from '../config/sponsors';

const tiers = [
  { title: 'Platinum Sponsors', sponsors: sponsorConfig.platinum, width: 'w-[70%] md:w-[33%]' },
  { title: 'Gold Sponsors', sponsors: sponsorConfig.gold, width: 'w-[60%] md:w-[30%]' },
  { title: 'Silver Sponsors', sponsors: sponsorConfig.silver, width: 'w-[55%] md:w-[25%]' },
  { title: 'Lunch Sponsors', sponsors: sponsorConfig.lunch, width: 'w-[55%] md:w-[25%]' },
  { title: 'Snack Sponsors', sponsors: sponsorConfig.snack, width: 'w-[55%] md:w-[25%]' },
  { title: 'T-Shirt Sponsors', sponsors: sponsorConfig.tshirt, width: 'w-[55%] md:w-[25%]' },
].filter(tier => tier.sponsors.length > 0);
---

<section id="sponsors" class="section-light py-8 px-6">
  <div class="container mx-auto max-w-8xl">
    <h2 class="text-5xl md:text-6xl font-bold text-center mb-20 tracking-tight">THANK YOU TO OUR SPONSORS</h2>
    {tiers.map((tier) => (
      <div class="mb-16">
        <h3 class="text-3xl font-semibold text-center mb-10 text-dark uppercase tracking-wide">{tier.title}</h3>
        <div class="flex flex-wrap justify-center gap-10">
          {tier.sponsors.map((sponsor) => (
            sponsor.website ? (
              <a href={sponsor.website} target="_blank" rel="noopener noreferrer" class={`flex items-center justify-center p-8 bg-white rounded-xl shadow-lg hover:shadow-xl transition-all hover:scale-105 transform duration-300 border border-gray-100 ${tier.width}`}>
                <Image
                  src={sponsor.logo}
                  alt={sponsor.name}
                  class="max-h-28 w-auto"
                />
              </a>
            ) : (
              <div class={`flex items-center justify-center p-8 bg-white rounded-xl shadow-lg hover:shadow-xl transition-all hover:scale-105 transform duration-300 border border-gray-100 ${tier.width}`}>
                <Image
                  src={sponsor.logo}
                  alt={sponsor.name}
                  class="max-h-28 w-auto"
                />
              </div>
            )
          ))}
        </div>
      </div>
    ))}

    <!-- Become a Sponsor CTA -->
    <div class="mt-20 text-center">
      <h3 class="text-2xl md:text-3xl font-semibold mb-4 text-dark">Interested in Sponsoring?</h3>
      <p class="text-lg text-gray-600 mb-8 max-w-2xl mx-auto">
        Partner with us to reach hundreds of quality engineering professionals and showcase your brand at the Midwest's largest software quality conference.
      </p>
      <a
        href={`${import.meta.env.BASE_URL}contact`}
        class="btn-primary px-8 py-4 rounded-xl text-lg font-semibold transition transform hover:scale-105 shadow-lg shadow-blue-500/30 inline-block"
      >
        Become a Sponsor
      </a>
    </div>
  </div>
</section>
